{"ast":null,"code":"var _jsxFileName = \"D:\\\\Data\\\\Project\\\\BookBazaar\\\\bookbazaar-frontend\\\\src\\\\pages\\\\BookDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport AuthContext from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    isAuthenticated,\n    user\n  } = useContext(AuthContext);\n  const [book, setBook] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [reviewText, setReviewText] = useState('');\n  const [reviewRating, setReviewRating] = useState(5);\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const res = await axios.get(`/api/books/${id}`);\n        setBook(res.data);\n\n        // Fetch reviews for this book\n        const reviewsRes = await axios.get(`/api/books/${id}/reviews`);\n        setReviews(reviewsRes.data);\n      } catch (err) {\n        setError('Book not found or error loading book details');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBook();\n  }, [id]);\n  const addToCart = async () => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    try {\n      await axios.post('/api/cart', {\n        bookId: book._id,\n        quantity\n      });\n      navigate('/cart');\n    } catch (err) {\n      setError('Error adding book to cart');\n      console.error(err);\n    }\n  };\n  const submitReview = async e => {\n    e.preventDefault();\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    try {\n      const res = await axios.post(`/api/books/${id}/reviews`, {\n        rating: reviewRating,\n        text: reviewText\n      });\n      setReviews([...reviews, res.data]);\n      setReviewText('');\n      setReviewRating(5);\n    } catch (err) {\n      setError('Error submitting review');\n      console.error(err);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !book) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger mt-5\",\n      role: \"alert\",\n      children: error || 'Book not found'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n  const isSellerOfBook = user && book.seller && user._id === book.seller._id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: book.coverImage || 'https://via.placeholder.com/300x400',\n          alt: book.title,\n          className: \"img-fluid rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"by \", book.author]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [[...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-star ${i < Math.round(book.rating) ? 'text-warning' : 'text-secondary'}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2\",\n            children: [\"(\", book.reviewCount, \" reviews)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead text-primary\",\n          children: [\"$\", book.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), \" \", book.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ISBN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), \" \", book.isbn]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Publisher:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), \" \", book.publisher]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Publication Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), ' ', new Date(book.publicationDate).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: book.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), book.inStock ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mr-3\",\n            style: {\n              maxWidth: '150px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary\",\n                type: \"button\",\n                onClick: () => setQuantity(Math.max(1, quantity - 1)),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control text-center\",\n              value: quantity,\n              onChange: e => setQuantity(Math.max(1, parseInt(e.target.value) || 1)),\n              min: \"1\",\n              max: book.stockQuantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-append\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary\",\n                type: \"button\",\n                onClick: () => setQuantity(Math.min(book.stockQuantity, quantity + 1)),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: addToCart,\n            disabled: isSellerOfBook,\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), isSellerOfBook && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-muted\",\n              children: \"You cannot purchase your own book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning\",\n          children: \"This book is currently out of stock.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this), isSellerOfBook && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-primary\",\n            onClick: () => navigate(`/seller/books/edit/${book._id}`),\n            children: \"Edit Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seller-info mt-4 p-3 bg-light rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Sold by: \", book.seller ? book.seller.name : 'BookMarket']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), book.seller && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0\",\n            children: [\"Seller Rating: \", book.seller.rating.toFixed(1), \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Customer Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), isAuthenticated && !isSellerOfBook && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: \"Write a Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: submitReview,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control\",\n                  value: reviewRating,\n                  onChange: e => setReviewRating(parseInt(e.target.value)),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"5\",\n                    children: \"5 Stars\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4\",\n                    children: \"4 Stars\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"3\",\n                    children: \"3 Stars\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"2\",\n                    children: \"2 Stars\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"1 Star\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Your Review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  rows: \"3\",\n                  value: reviewText,\n                  onChange: e => setReviewText(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Submit Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), reviews.length > 0 ? reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title mb-0\",\n                children: review.user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-star ${i < review.rating ? 'text-warning' : 'text-secondary'}`\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: review.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: [\"Posted on \", new Date(review.createdAt).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)\n        }, review._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: \"No reviews yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetails, \"JxgQNbWSas8NG2XOTBRg8vVzyRA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","BookDetails","_s","id","navigate","isAuthenticated","user","book","setBook","quantity","setQuantity","loading","setLoading","error","setError","reviews","setReviews","reviewText","setReviewText","reviewRating","setReviewRating","fetchBook","res","get","data","reviewsRes","err","console","addToCart","post","bookId","_id","submitReview","e","preventDefault","rating","text","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","isSellerOfBook","seller","src","coverImage","alt","title","author","Array","map","_","i","Math","round","reviewCount","price","toFixed","category","isbn","publisher","Date","publicationDate","toLocaleDateString","description","inStock","style","maxWidth","type","onClick","max","value","onChange","parseInt","target","min","stockQuantity","disabled","name","onSubmit","rows","required","length","review","createdAt","_c","$RefreshReg$"],"sources":["D:/Data/Project/BookBazaar/bookbazaar-frontend/src/pages/BookDetails.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport AuthContext from '../context/AuthContext';\r\n\r\nconst BookDetails = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, user } = useContext(AuthContext);\r\n  \r\n  const [book, setBook] = useState(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [reviewText, setReviewText] = useState('');\r\n  const [reviewRating, setReviewRating] = useState(5);\r\n\r\n  useEffect(() => {\r\n    const fetchBook = async () => {\r\n      try {\r\n        const res = await axios.get(`/api/books/${id}`);\r\n        setBook(res.data);\r\n        \r\n        // Fetch reviews for this book\r\n        const reviewsRes = await axios.get(`/api/books/${id}/reviews`);\r\n        setReviews(reviewsRes.data);\r\n      } catch (err) {\r\n        setError('Book not found or error loading book details');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBook();\r\n  }, [id]);\r\n\r\n  const addToCart = async () => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await axios.post('/api/cart', {\r\n        bookId: book._id,\r\n        quantity\r\n      });\r\n      \r\n      navigate('/cart');\r\n    } catch (err) {\r\n      setError('Error adding book to cart');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const submitReview = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!isAuthenticated) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const res = await axios.post(`/api/books/${id}/reviews`, {\r\n        rating: reviewRating,\r\n        text: reviewText\r\n      });\r\n      \r\n      setReviews([...reviews, res.data]);\r\n      setReviewText('');\r\n      setReviewRating(5);\r\n    } catch (err) {\r\n      setError('Error submitting review');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"text-center mt-5\">\r\n        <div className=\"spinner-border text-primary\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !book) {\r\n    return (\r\n      <div className=\"alert alert-danger mt-5\" role=\"alert\">\r\n        {error || 'Book not found'}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isSellerOfBook = user && book.seller && user._id === book.seller._id;\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          <img\r\n            src={book.coverImage || 'https://via.placeholder.com/300x400'}\r\n            alt={book.title}\r\n            className=\"img-fluid rounded\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <h1>{book.title}</h1>\r\n          <h5>by {book.author}</h5>\r\n          \r\n          <div className=\"mb-3\">\r\n            {[...Array(5)].map((_, i) => (\r\n              <i\r\n                key={i}\r\n                className={`fas fa-star ${\r\n                  i < Math.round(book.rating) ? 'text-warning' : 'text-secondary'\r\n                }`}\r\n              ></i>\r\n            ))}\r\n            <span className=\"ml-2\">({book.reviewCount} reviews)</span>\r\n          </div>\r\n          \r\n          <p className=\"lead text-primary\">${book.price.toFixed(2)}</p>\r\n          \r\n          <p>\r\n            <strong>Category:</strong> {book.category}\r\n          </p>\r\n          \r\n          <p>\r\n            <strong>ISBN:</strong> {book.isbn}\r\n          </p>\r\n          \r\n          <p>\r\n            <strong>Publisher:</strong> {book.publisher}\r\n          </p>\r\n          \r\n          <p>\r\n            <strong>Publication Date:</strong>{' '}\r\n            {new Date(book.publicationDate).toLocaleDateString()}\r\n          </p>\r\n          \r\n          <div className=\"my-4\">\r\n            <h4>Description</h4>\r\n            <p>{book.description}</p>\r\n          </div>\r\n          \r\n          {book.inStock ? (\r\n            <div className=\"d-flex align-items-center mb-4\">\r\n              <div className=\"input-group mr-3\" style={{ maxWidth: '150px' }}>\r\n                <div className=\"input-group-prepend\">\r\n                  <button\r\n                    className=\"btn btn-outline-secondary\"\r\n                    type=\"button\"\r\n                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                  >\r\n                    -\r\n                  </button>\r\n                </div>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control text-center\"\r\n                  value={quantity}\r\n                  onChange={(e) => setQuantity(Math.max(1, parseInt(e.target.value) || 1))}\r\n                  min=\"1\"\r\n                  max={book.stockQuantity}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                  <button\r\n                    className=\"btn btn-outline-secondary\"\r\n                    type=\"button\"\r\n                    onClick={() => setQuantity(Math.min(book.stockQuantity, quantity + 1))}\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={addToCart}\r\n                disabled={isSellerOfBook}\r\n              >\r\n                Add to Cart\r\n              </button>\r\n              \r\n              {isSellerOfBook && (\r\n                <div className=\"ml-3\">\r\n                  <span className=\"text-muted\">You cannot purchase your own book</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"alert alert-warning\">\r\n              This book is currently out of stock.\r\n            </div>\r\n          )}\r\n          \r\n          {isSellerOfBook && (\r\n            <div className=\"mt-3\">\r\n              <button\r\n                className=\"btn btn-outline-primary\"\r\n                onClick={() => navigate(`/seller/books/edit/${book._id}`)}\r\n              >\r\n                Edit Book\r\n              </button>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"seller-info mt-4 p-3 bg-light rounded\">\r\n            <h5>Sold by: {book.seller ? book.seller.name : 'BookMarket'}</h5>\r\n            {book.seller && (\r\n              <p className=\"mb-0\">Seller Rating: {book.seller.rating.toFixed(1)}/5</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Reviews Section */}\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col-12\">\r\n          <h3>Customer Reviews</h3>\r\n          \r\n          {isAuthenticated && !isSellerOfBook && (\r\n            <div className=\"card mb-4\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Write a Review</h5>\r\n                <form onSubmit={submitReview}>\r\n                  <div className=\"form-group\">\r\n                    <label>Rating</label>\r\n                    <select\r\n                      className=\"form-control\"\r\n                      value={reviewRating}\r\n                      onChange={(e) => setReviewRating(parseInt(e.target.value))}\r\n                    >\r\n                      <option value=\"5\">5 Stars</option>\r\n                      <option value=\"4\">4 Stars</option>\r\n                      <option value=\"3\">3 Stars</option>\r\n                      <option value=\"2\">2 Stars</option>\r\n                      <option value=\"1\">1 Star</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Your Review</label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      rows=\"3\"\r\n                      value={reviewText}\r\n                      onChange={(e) => setReviewText(e.target.value)}\r\n                      required\r\n                    ></textarea>\r\n                  </div>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Submit Review\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {reviews.length > 0 ? (\r\n            reviews.map((review) => (\r\n              <div key={review._id} className=\"card mb-3\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <h5 className=\"card-title mb-0\">{review.user.name}</h5>\r\n                    <div>\r\n                      {[...Array(5)].map((_, i) => (\r\n                        <i\r\n                          key={i}\r\n                          className={`fas fa-star ${\r\n                            i < review.rating ? 'text-warning' : 'text-secondary'\r\n                          }`}\r\n                        ></i>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"card-text\">{review.text}</p>\r\n                  <small className=\"text-muted\">\r\n                    Posted on {new Date(review.createdAt).toLocaleDateString()}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p className=\"text-muted\">No reviews yet.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}